\documentclass{standalone}
\usepackage{thesis}

\begin{document}
\pagestyle{headings}

\chapter{Teoria}

\section{Wprowadzenie}

Przez \textit{grę} rozumiemy matematyczny opis pewnej sytuacji konfliktowej, w której biorą udział określone strony,
nazywane \textit{graczami}. Każdej stronie przypisujemy pewien zbiór \textit{strategii}, z których w danym momencie
wykorzystuje jedną. Każdemu z graczy przypisujemy również \textit{funkcję wypłaty}, której wartość uzależniona jest
od wszystkich strategii granych przez graczy w określonej chwili.

W zależności od rozpatrywanego rodzaju gry formalna definicja wymienionych pojęć jest nieco inna. W tej pracy rozważane
będą 2 rodzaje gier: \textit{gry w postaci strategicznej} oraz \textit{gry w postaci ekstensywnej}. Dla obu z nich możliwe
jest zdefiniowanie tzw. \textit{równowagi Nasha} tj. takiej kombinacji wyborów strategii przez graczy, aby dla każdego z nich
nieopłacalne było odstąpienie od obecnie granej strategii.

Szczególną uwagę poświęcono grom dla których możliwe jest obliczenie równowagi Nasha przy pomocy programowania
liniowego/całkowitoliczbowego lub rekurencyjnego przeszukania danych.

\section{Gra w postaci strategicznej}

\begin{definition}
\textbf{Grą w postaci strategicznej (normalnej)} nazywamy trójkę:
\begin{enumerate}
\item skończony zbiór graczy $I = 1, 2, 3, ..., n$,
\item przestrzeń strategii czystych gracza $S_i$ zdefiniowaną dla każdego gracza $i \in I$,
\item funkcję wypłaty $u_i(s)$ określającą wypłatę gracza $i \in I$ dla każdego profilu $s \in S$.
\end{enumerate}
\end{definition}

Przy tak zdefiniowanej grze zakładamy, że każdy z graczy decyduje się na jedną ze swoich strategii, a następnie
na podstawie wyborów podjętych przez wszystkich graczy przypisujemy każdemu z nich wypłatę.

Możemy przyjąć, że dla tak przyjętych oznaczeń $s_i$ oznacza wybór $i$-tego gracza dla profilu $s$, zaś $s_{-i}$ profil
wszystkich wyborów oprócz wyboru gracza $i$. Analogicznie $S_{-i}$ oznacza zbiór wszystkich możliwych odpowiedzi na granie
strategii $s_i$ przez gracza $i$.

\begin{definition}
\textbf{Strategią mieszaną} gracza $i$ nazywamy rozkład $\sigma_i$ nad strategiami czystymi $S_i$. Wówczas funkcja wypłaty
ma postać $u_i(\sigma_i, \sigma^{*})$ i jest wartością oczekiwaną funkcji wypłaty dla strategii mieszanych wszystkich graczy.
\end{definition}

\subsection{Równowagi w strategiach czystych}

\begin{definition}
\textbf{Równowagą Nasha w strategiach czystych} w grze w postaci strategicznej nazywamy profil strategii $s \in S$ taki, że:
$$\forall_{i \in I} \forall_{s_{-i} \in S_{-i}} u_i(s) \geq u_i(s_i, s_{-i})$$
\end{definition}

Oznacza to, że równowagą jest profil strategii, dla którego pojedyncza zmiana granej strategii nie jest w stanie poprawić wypłaty
żadnego z graczy.

Równowaga taka nie zawsze istnieje, czego przykładem jest gra w papier-kamień-nożyce:

\begin{tabular}[t]{| c | c | c | c |}
\hline
$p_1 \downarrow$, $p_2 \rightarrow$  & papier & kamień & nożyce \\
\hline
papier                               & 0,0    & 1,-1   & -1,1   \\
\hline
kamień                               & -1,1   & 0,0    & 1,-1   \\
\hline
nożyce                               & 1,-1   & -1,1   & 0,0    \\
\hline
\end{tabular}

W takiej sytuacji każdy z graczy zawsze może zmienić swoją strategię na taką, w której jego wypłata zostanie zwiększona.

Problem szukania równowagi w strategiach czystych nie ma wydajnego rozwiązania. Wszystko co możemy zrobić to zoptymalizować
metodę \textit{brute force}, poprzez eliminację strategii zdominowanych.

\begin{definition}
\textbf{Strategia zdominowana} to taka strategia $s_i \in S_i$, że:
$$\exists_{s'_i} \forall_{s_{-1} \in S} u_i(s_i, s_{-i}) \leq u_i(s'_i, s_{-i})$$
\end{definition}

Strategia taka zawsze może zostać zastąpiona przez jakąś inną strategię, więc szukając punktu równowagi Nasha możemy ją
pominąć w rozważaniach - z definicji nie może ona wchodzić w skład szukanego profilu.

\textbf{Metoda eliminacji strategii zdominowanych} wykorzystuje ten fakt do usuwania z naszych rozważań strategii zdominowanych
tak długo jak to tylko możliwe. Zdarza się, że prowadzi to do sytuacji gdzie równowaga jest oczywista, ale często konieczne jest
jednak przeszukiwanie pozostałej przestrzeni rozwiązań aż do jej znalezienia lub stwierdzenia jej braku.

\subsection{Równowagi w strategiach mieszanych}

\begin{theorem}
\textbf{Twierdzenie Nasha o istnieniu równowagi} - każda skończona gra $(I, S_i, u_i)$ ma równowagę w strategiach mieszanych.
\end{theorem}

Dowodzone jest to przy pomocy \textbf{twierdzenia o punkcie stałym Kakutaniego}.

Gwarantuje nam to możliwość znalezienia równowagi (w strategiach mieszanych) w każdej grze skończonej, nie mówi nam jednak jak
je znaleźć.

\subsubsection{Równowagi w strategiach mieszanych w grach jednomacierzowych}

\begin{definition}
\textbf{Gra o sumie zerowej} to taka gra, że:
$$\forall_{s \in S} \sum_{i \in I} u_i(s) = 0$$
\end{definition}

Gdy w grze bierze udział 2 graczy wartości ich wypłat będą dokładnie przeciwne, można więc funkcję wypłaty zapisać przy pomocy
macierzy $A_{ij}$, gdzie $i$ oznacza wybór strategii pierwszego gracza, a $j$ wybór gracza drugiego. Wartość stanowi wypłatę
pierwszego z graczy.

W takiej sytuacji pierwszy z graczy będzie dążył do maksymalizacji wypłaty, zaś gracz drugi do jej minimalizacji:

$$\max_{\sigma_1} \{ \min_{j \in J} u_1(\sigma_1, j) \}$$
$$\min_{\sigma_2} \{ \max_{i \in I} u_2(i, \sigma_2) \}$$

Tak zdefiniowany problem po pewnych modyfikacjach możemy przekształcić do programowania liniowego:

$$\max_{\sigma_1} \{ \min_{j \in J} \sum_{i \in I} A_{ij} \sigma_1(i) \}$$
$$\sum_{i \in I} \sigma_1(i) = 1$$
$$\forall_{i \in I} \sigma_1(i) \geq 0$$

$$\downarrow$$

$$\max_{\sigma_1,v} v$$
$$\forall_{j \in J} \sum_{i \in I} A_{ij} \sigma_1(i) \geq v$$
$$\sum_{i \in I} \sigma_1(i) = 1$$
$$\forall_{i \in I} \sigma_1(i) \geq 0$$

$$\downarrow x_i = \frac{\sigma_1(i)}{v}$$

$$\max_{\sigma_1,v} v$$
$$\forall_{j \in J} \sum_{i \in I} A_{ij} \sigma_1(i) \geq 1$$
$$\sum_{i \in I} \sigma_1(i) = \frac{1}{v}$$
$$\forall_{i \in I} \sigma_1(i) \geq 0$$

$$\downarrow$$

$$\min_x \sum_{i \in I} x_i$$
$$A^Tx \geq 1$$
$$x \geq 0$$

Przeprowadzając analogiczne rozumowanie dla gracza drugiego otrzymamy:

$$\max_y \sum_{j \in J} y_i$$
$$Ay \leq 1$$
$$y \geq 0$$

Okazuje się więc, że są to problemy dualne - odpowiednia implementacja algorytmu simpleks jest w stanie otrzymać oba rozwiązania
przy jednym uruchomieniu procedury. Należy jedynie pamiętać aby otrzymane wartości pomnożyć przez wartość funkcji celu, aby wrócić
do ich oryginalnej postaci.

\subsubsection{Równowagi w strategiach mieszanych w grach dwumacierzowych}

Dla gier dwumacierzowych (gier o sumie dowolnej) sytuacja się komplikuje. Istnieje kilka opisanych algorytmów, które pozwalają
na znalezienie równowagi Nasha. Wśród najczęściej wymienianych są to:
\begin{itemize}
\item algorytm \textbf{Lemke-Howsona} - wykorzystujący podprocedury algorytmu simplex,
\item algorytm \textbf{Portel-Nudleman-Shoham (PNS)},
\item algorytm \textbf{Sandholm-Gilpin-Conitzer}
\end{itemize}

\section{Gra w postaci ekstensywnej}

TODO

\subsection{Równowagi w strategiach czystych w grach z informacją doskonałą}

TODO

\end{document}
